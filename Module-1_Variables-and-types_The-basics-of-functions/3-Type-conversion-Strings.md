Перетворення типів: рядки

Перетворення типів у JavaScript — це процес зміни значення одного типу даних на інший тип даних. Перетворення типів може відбуватися в різних ситуаціях, наприклад, під час виконання арифметичних операцій з різними типами даних або порівняння значень. У JavaScript існують два типи перетворення: явне та неявне. Явне перетворення типів

Явне перетворення типів

виконується програмістом і використовується за потребою. Для перетворення будь-якого значення на рядок можна використовувати вбудовану функцію String(), яка повертає результат у вигляді рядка.

console.log(String(5)); // "5"
console.log(String(true)); // "true"
console.log(String(false)); // "false"
console.log(String(null)); // "null"
console.log(String(undefined)); // "undefined"

Неявне перетворення типів

Неявне перетворення типів відбувається автоматично під час виконання операцій або обчислень. Наприклад, якщо виконується операція додавання (+) між рядком та іншим типом даних, JavaScript автоматично перетворює значення операнда на рядок і виконує конкатенацію рядків.

Ось приклади неявного перетворення всіх примітивних типів під час конкатенації рядків:

console.log("5" + 3); // "53"
console.log("5" + true); // "5true"
console.log("5" + false); // "5false"
console.log("5" + null); // "5null"
console.log("5" + undefined); // "5undefined"

Неявне перетворення — це зручний вбудований механізм JavaScript, але іноді може викликати несподівані результати або помилки. Тому важливо бути уважним при виконанні операцій з різними типами даних і вчитися контролювати та бачити перетворення типів у коді своїх програм.

Прочитай приклад коду

console.log("false" + null)
Що буде виведено в консоль під час виконання коду?

null
Помилка
Рядок “falsenull”
Рядок “false”
Результат

Правильно! У цьому випадку "false" та null автоматично перетворяться та поєднаються в рядок falsenull.

Шаблонні рядки

Шаблонні рядки — це синтаксис, який полегшує об'єднання статичного тексту з динамічним (тобто текстом, що містить змінні, обчислення тощо). Шаблонні рядки дозволяють уникати користування заплутаною конкатенацією та роблять код більш читабельним.

Синтаксис шаблонного рядка

Шаблонні рядки огортаються зворотними лапками (англ. backticks) (``)

Увага!
Код не працюватиме, якщо огорнути шаблонні рядки звичайними одинарними або подвійними лапками.

Для того щоб додати зворотні лапки ``, перейди в англійську розкладку та натисни

клавішу ~ (див. 1-3 нижче)
Або

поєднання клавіш (див. 4 нижче)

Шаблонні рядки дозволяють підставляти значення змінних безпосередньо всередині рядка за допомогою синтаксису інтерполяції ${змінна}.

const guestName = "Mango";
const roomNumber = 207;
const greeting = `Welcome ${guestName}, your room number is ${roomNumber}!`;
console.log(greeting); // "Welcome Mango, your room number is 207!"

У прикладі вище ми використали інтерполяцію (конструкцію ${}) для того, щоб підставити значення змінних guestName та roomNumber прямо в текст рядка. Під час формування цього рядка значення змінних автоматично підставляться в місцях, де є відповідна інтерполяція.

Порівняння конкатенації та шаблонних рядків

Код з конкатенацією, де

"Welcome " ", your room number is " та "!" — це статичний текст
guestName та roomNumber — імена змінних.

const guestName = "Mango";
const roomNumber = 207;
const greeting =
"Welcome " + guestName + ", your room number is " + roomNumber + "!";
console.log(greeting); // "Welcome Mango, your room number is 207!"
Код, де значення цих змінних підставляються у шаблонний рядок.

const guestName = "Mango";
const roomNumber = 207;
const greeting = `Welcome ${guestName}, your room number is ${roomNumber}!`;
console.log(greeting); // "Welcome Mango, your room number is 207!"
Код шаблонних рядків є більш читабельним.
